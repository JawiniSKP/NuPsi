version: "3.1"

rules:

- rule: Responder pregunta directa con Gemini
  steps:
  - intent: ask_gemini
  - action: action_call_gemini_chat

- rule: Activar modo Gemini
  steps:
  - intent: open_chat
  - action: action_toggle_gemini_mode
  - action: utter_activate_gemini_mode    # CORREGIDO

- rule: Desactivar modo Gemini
  steps:
  - intent: stop_chat
  - action: action_stop_gemini_mode
  - action: utter_deactivate_gemini_mode    # CORREGIDO

# La regla de fallback ya no es necesaria aquí, se maneja en config.yml

- rule: Decir adiós cuando el usuario se despide
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Responder al desafío de ser un bot
  steps:
  - intent: bot_challenge
  - action: utter_iamabot