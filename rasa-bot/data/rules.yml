version: "3.1"

rules:

  # ðŸ”¹ Activa el modo Gemini (por intenciÃ³n del usuario)
  - rule: Activar modo Gemini
    steps:
      - intent: open_chat
      - action: action_toggle_gemini_mode
      - action: utter_activate_gemini_mode

  # ðŸ”¹ Desactiva el modo Gemini
  - rule: Desactivar modo Gemini
    steps:
      - intent: stop_chat
      - action: action_stop_gemini_mode
      - action: utter_deactivate_gemini_mode

  # ðŸ”¹ Pregunta directa al modo avanzado (por ejemplo "quÃ© es la inteligencia artificial")
  - rule: Pregunta directa a Gemini
    steps:
      - intent: ask_gemini
      - action: action_call_gemini_chat

  # ðŸ”¹ Fallback automÃ¡tico (si Rasa no reconoce la intenciÃ³n)
  - rule: Baja confianza â†’ Fallback con Gemini
    steps:
      - intent: nlu_fallback
      - action: action_fallback_to_gemini

  # ðŸ”¹ Out of scope (por ejemplo si detecta que el tema no es del dominio)
  - rule: Tema fuera de alcance â†’ Gemini
    steps:
      - intent: out_of_scope
      - action: action_fallback_to_gemini

  # ðŸ”¹ Despedida
  - rule: Despedida amable
    steps:
      - intent: goodbye
      - action: utter_goodbye

  # ðŸ”¹ Respuesta a "Â¿eres un bot?"
  - rule: Responder desafÃ­o bot
    steps:
      - intent: bot_challenge
      - action: utter_iamabot
