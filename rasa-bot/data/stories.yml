version: "3.1"
stories:
  - story: happy path
    steps:
      - intent: greet
      - action: utter_greet
      - intent: ask_capabilities
      - action: utter_ask_capabilities
      - intent: thanks
      - action: utter_thanks
      - intent: goodbye
      - action: utter_goodbye

  - story: motivation support
    steps:
      - intent: greet
      - action: utter_greet
      - intent: ask_motivation_support
      - action: utter_ask_motivation_support
      - intent: affirm
      - action: utter_thanks

  - story: user asks about hydration
    steps:
      - intent: greet
      - action: utter_greet
      - intent: ask_hydration
      - action: utter_ask_hydration
      - intent: thanks
      - action: utter_thanks

  - story: user asks about exercise
    steps:
      - intent: greet
      - action: utter_greet
      - intent: ask_exercise_general
      - action: utter_ask_exercise_general
      - intent: ask_cardio_benefits
      - action: utter_ask_cardio_benefits
      - intent: goodbye
      - action: utter_goodbye

  # ⛔ Se eliminó la story 'out of scope conversation' para no contradecir las rules

  - story: user feels sad
    steps:
      - intent: greet
      - action: utter_greet
      - intent: express_sadness
      - action: utter_express_sadness
      - intent: ask_emotional_support
      - action: utter_ask_emotional_support
      - intent: thanks
      - action: utter_thanks

  - story: user manages anxiety with nutrition
    steps:
      - intent: express_anxiety
      - action: utter_express_anxiety
      - intent: ask_emotional_eating
      - action: utter_ask_emotional_eating
      - intent: ask_healthy_snacks
      - action: utter_ask_healthy_snacks
      - intent: affirm
      - action: utter_thanks

  - story: stress management flow
    steps:
      - intent: express_anxiety
      - action: utter_express_anxiety
      - intent: ask_stress_management
      - action: utter_ask_stress_management
      - intent: thanks
      - action: utter_thanks

  - story: consulta alimento con macronutriente
    steps:
      - intent: ask_specific_food
        entities:
          - macronutrient: proteínas
      - slot_was_set:
          - macronutrient: "proteínas"
      - action: action_answer_specific_food

  - story: rutina por grupo muscular
    steps:
      - intent: ask_muscle_group
        entities:
          - muscle_group: pecho
      - slot_was_set:
          - muscle_group: "pecho"
      - action: action_propose_workout

  - story: planificación con formulario
    steps:
      - intent: ask_meal_planning
      - action: nutrition_profile_form
      - active_loop: nutrition_profile_form

  - story: seguimiento de progreso
    steps:
      - intent: ask_progress_tracking
      - action: action_track_progress_tip
      - intent: thanks
      - action: utter_thanks
