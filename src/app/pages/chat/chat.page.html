<ion-header translucent="true">
  <ion-toolbar color="primary">
    <ion-title>Aura Asistente</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content #chatContent [fullscreen]="true">
  <div class="chat-container">
    <div *ngFor="let message of messages"
         class="message-wrapper"
         [ngClass]="{ 'user-message': message.sender === 'user', 'bot-message': message.sender === 'bot' }">

      <ion-avatar *ngIf="message.sender === 'bot'">
        <img src="https://ionicframework.com/docs/img/demos/avatar.svg" alt="Bot Avatar"/>
      </ion-avatar>

      <div class="message-bubble">
        <p>{{ message.text }}</p>
      </div>
    </div>

    <div *ngIf="botIsTyping" class="message-wrapper bot-message">
       <ion-avatar>
        <img src="https://ionicframework.com/docs/img/demos/avatar.svg" alt="Bot Avatar"/>
      </ion-avatar>
      <div class="message-bubble typing-indicator">
        <span></span><span></span><span></span>
      </div>
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar class="input-toolbar">
    <ion-item lines="none">
      
      <ion-input
        [(ngModel)]="newMessage"
        placeholder="EscrÃ­bele a Aura"
        (keyup.enter)="sendMessage()">
      </ion-input>

      <ion-button fill="clear" (click)="sendMessage()" [disabled]="!newMessage.trim()">
  <ion-icon name="paper-plane" slot="icon-only"></ion-icon>
</ion-button>
    </ion-item>
  </ion-toolbar>
</ion-footer>